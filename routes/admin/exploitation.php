<?php

use Illuminate\Support\Facades\Route;
use App\Http\Controllers\UserController;
use App\Http\Controllers\ClientController;
use App\Http\Controllers\CompteController;


Route::get('/clients', [ClientController::class, 'clients'])->name('admin.clients')->middleware(['auth','hasPermission']);
Route::post('/search/compte/client', [ClientController::class, 'searchCompteClient']);
Route::post('/client/edit/{id}', [ClientController::class, 'clientEdit'])->name('admin.client.edit')->middleware(['auth','hasPermission']);
Route::post('/client/delete/{id}', [ClientController::class, 'clientDelete'])->name('admin.client.delete')->middleware(['auth','hasPermission']);
Route::post('/client/reset/password/{id}', [ClientController::class, 'clientResetPassword'])->name('admin.client.reset.password')->middleware(['auth','hasPermission']);
Route::post('/client/activation/{id}', [ClientController::class, 'clientActivation'])->name('admin.client.activation')->middleware(['auth','hasPermission']);
Route::post('/client/desactivation/{id}', [ClientController::class, 'clientDesactivation'])->name('admin.client.desactivation')->middleware(['auth','hasPermission']);

Route::get('/clients/attentes', [ClientController::class, 'clientsAttentes'])->middleware(['auth']);
Route::get('/clients/rejetes', [ClientController::class, 'clientsRejetes'])->middleware(['auth']);
Route::post('/client/validation/{id}', [ClientController::class, 'clientValidation'])->name('admin.client.validation')->middleware(['auth','hasPermission']);
Route::post('/client/rejet/{id}', [ClientController::class, 'clientRejet'])->name('admin.client.rejet')->middleware(['auth','hasPermission']);

Route::get('/client/details/{id}', [ClientController::class, 'clientDetails'])->middleware(['auth']);
Route::post('/complete/kyc/admin/{id}', [ClientController::class, 'kycEdit'])->name('admin.kyc.edit')->middleware(['auth','hasPermission']);

Route::get('/clients/operations/attentes', [ClientController::class, 'clientOperationsAttentes'])->name('admin.client.operations.attentes')->middleware(['auth','hasPermission']);
Route::post('/clients/operations/attentes/cancel', [ClientController::class, 'clientOperationsAttentesCancel'])->name('admin.client.operations.attentes.cancel')->middleware(['auth','hasPermission']);
Route::post('/clients/operations/attentes/refund', [ClientController::class, 'clientOperationsAttentesRefund'])->name('admin.client.operations.attentes.refund')->middleware(['auth','hasPermission']);
Route::post('/clients/operations/attentes/complete', [ClientController::class, 'clientOperationsAttentesComplete'])->name('admin.client.operations.attentes.complete')->middleware(['auth','hasPermission']);

Route::get('/clients/operations/remboursees', [ClientController::class, 'clientOperationsRemboursees'])->middleware(['auth']);
Route::get('/clients/operations/finalisees', [ClientController::class, 'clientOperationsFinalisees'])->middleware(['auth']);
Route::get('/clients/operations/annulees', [ClientController::class, 'clientOperationsAnnulees'])->middleware(['auth']);
Route::get('/clients/paiements', [ClientController::class, 'clientPaiements'])->middleware(['auth']);

Route::post('/download/client/releve/{client_id}', [ClientController::class, 'downloadClientReleve'])->name('admin.download.client.releve')->middleware(['auth','hasPermission']);
Route::post('/view/client/releve/{client_id}', [ClientController::class, 'viewClientReleve'])->middleware(['auth']);


Route::get('/compte/commission', [CompteController::class, 'compteCommission'])->name('admin.compte.commission')->middleware(['auth','hasPermission']);
Route::post('/compte/commission/add', [CompteController::class, 'compteCommissionAdd'])->middleware(['auth']);
Route::post('/compte/commission/edit/{id}', [CompteController::class, 'compteCommissionEdit'])->middleware(['auth']);
Route::post('/compte/commission/delete/{id}', [CompteController::class, 'compteCommissionDelete'])->middleware(['auth']);
Route::post('/search/mouvement/compte/{id}', [CompteController::class, 'searchMouvementCompte'])->middleware(['auth']);
Route::get('/download/mouvement/compte/{id}/{debut}/{fin}', [CompteController::class, 'downloadMouvementCompte'])->middleware(['auth']);

Route::get('/compte/commission/detail/{id}', [CompteController::class, 'compteCommissionDetail'])->name('admin.compte.commission.detail')->middleware(['auth','hasPermission']);

Route::get('/compte/solde', [CompteController::class, 'compteSolde'])->name('admin.compte.solde')->middleware(['auth','hasPermission']);
Route::get('/compte/all/partner', [CompteController::class, 'compteAllPartner'])->name('admin.compte.all.partner')->middleware(['auth','hasPermission']);
Route::post('/compte/all/partner/recharge', [CompteController::class, 'compteAllPartnerRecharge'])->name('admin.compte.all.partner.recharge')->middleware(['auth','hasPermission']);


Route::get('/profile', [UserController::class, 'profile'])->middleware(['auth','hasPermission']);
Route::post('/profile/informations/edit', [UserController::class, 'profileInformationsEdit'])->middleware(['auth']);
Route::post('/profile/password/change', [UserController::class, 'profilePasswordChange'])->middleware(['auth']);
